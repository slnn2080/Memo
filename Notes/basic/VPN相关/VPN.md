> 公有地址:
  互联网上可寻址 全球唯一 需运营商分配

> 私有地址:
  用户内网随意使用 互联网上无法寻址
  <!-- 
    192.168.1.1
   -->

- 中小企业内部使用私有地址的服务器 将无法被远程在家办公的员工访问

- 那怎么让在家办公的人访问企业内部的局域网呢？

> 解决方案1:
> 端口映射(网络地址转换) NAT
- 也叫做网络地址转换 
- 当我们公司内部有条数据 要发送到公网上的时候 对数据上的ip地址进行替换

<!-- 

  一台主机
  192.168.1.100  ->  网关  -> 公网

  比如企业内部一个ip 192.168.1.100 发送一条数据 要发送到外网 肯定会经过一个网关(也可以是防火墙 或者 服务器) 
  
  这个网关就是对接公网 企业内部的所有资源要发往公网都需要通过这台设备帮助我们发布到公网
 -->

- NAT就是当我们的数据要出来的时候 对我们的数据报上的ip地址进行替换
- 原来是私有的ip地址 私有地址是无法先公网上进行转发的
<!-- 
  比如 公网中的中国电信收到私网中的数据报 它一查ip是一个私有ip 它就会将数据报丢掉
 -->

- 所以我们需要NAT技术对我们数据报中的ip地址进行替换
- 它可以把私有ip替换成公网的ip地址
- 192.168.1.100  替换成
- 202.112.193.1

- 这个公网地址是要找运营商去申请的

- NAT技术是将数据报中的IP地址 直接进行替换

> NAT技术的缺陷
- 一旦我们使用NAT技术将本网服务器放到公网了 我们公网的用户是可以随意访问我们内网中的一台服务器的
- 这样这台设备就会不安全 用户群中还是有坏人的 

- NAT技术相当于把整个的服务器暴露在公网上
- 不安全


> 解决方案2 VPN(虚拟专用网)
- 它可以在两个企业出口的网关设备之间 构建一个逻辑的隧道
<!-- 
  比如 大连 到 烟台 的海底隧道
  一旦有这个隧道 就可以 互相访问了
 -->

- 一旦vpn做通了 数据报就可以通过隧道穿越中间的互联网 到达企业内网 访问企业内网的资源

- VPN除了可以让两个私网进行对接 还可以很安全
- VPN不光光是打开隧道 还对我们传递的数据报进行加密 加密的数据报即使被黑客抓住了 也看不见里面写的什么东西

> 一次数据的传输是安全的 需要保证4个特性
- 1. 数据的机密性
  哪怕被抓包了 也不知道里面写的是什么内容

- 2. 数据的完整性
  数据报在传递的过程中有没有被黑客进行恶意的修改

- 3. 不能被他人冒充
  数据传递的双方是受信任的

- 4. 不可否认性
  数据报发了就是发了 比如要是中木马了就是这个人

- vpn就可以保证这4个特性 它除了可以打通两个企业之间的内网 还能保证数据传输的安全性

- 一旦我们构建了隧道 那么家里的电脑 和 企业的主机就是可以互通的


### 如何搭建vpn
- 1. 企业的话 可以专门买vpn的设备
- 2. 购买vpn服务 由第三方来搭建隧道
- 我们可以在电脑上安装一些软件 购买vpn服务 一旦购买了vpn服务 那么就有第三方帮我们构建vpn

- 家里有的路由器还自带vpn功能
- 作为企业来说 企业一定要有出口设备(有的服务器和防火墙还是支持vpn的)


> 家庭办公 和 移动办公
- 如果无线路由器支持vpn的话 我们可以直接在无线路由器上打通一个vpn隧道 (家到公司的内网)

- 如果是笔记本电脑
- 我们可以购买vpn的客户端 在网上随便都能买到
<!-- 
  明天确认下 vpn的客户端是指定的 还是随机下载的
 -->

- 有了客户端就相当于隧道建立在笔记本和公司出口网关设备之间了
- ssl VPN


> 扩展:
- 网关:
- 我们要上网的时候 访问互联网的时候 我们要把数据报发送给网关 网关也有个ip地址

- 测测两台主机通不同 可以使用 ping命令

> ping + 对方的ip地址
- 看看与对方 通不通

